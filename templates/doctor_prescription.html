{% extends 'doctor_base.html' %}
{% load static %}

{% block title %}Add Prescription - HMS{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center min-vh-150">
  <div class="card register-card shadow-lg border-0">

    <!-- ðŸ”¹ Header -->
    <div class="card-header text-center text-white py-3 bg-dark">
      <h4 class="fw-bold mb-0"> Add Prescription</h4>
      <p class="small mb-0 text-light">Record a new prescription in the system</p>
    </div>

    <!-- ðŸ”¹ Form Body -->
    <div class="card-body p-4">
      <form method="POST">
        {% csrf_token %}

        <div class="row g-3">

          <div class="col-md-6">
            <label class="form-label fw-semibold">Patient Name</label>
            <input type="text" class="form-control input-focus" value="{{ appointment.patient }}" readonly>
          </div>

          <div class="col-md-6">
            <label class="form-label fw-semibold">Symptoms</label>
            <textarea class="form-control input-focus" rows="1" readonly>{{ appointment.symptoms }}</textarea>
          </div>

          <div class="col-md-6">
            <label class="form-label fw-semibold">Disease</label>
            <input type="text" name="disease" class="form-control input-focus" placeholder="Enter diagnosed disease" required>
          </div>

          <div class="col-md-6">
            <label class="form-label fw-semibold">Medicines</label>
            <textarea name="medicines" class="form-control input-focus" rows="1" placeholder="List prescribed medicines" required></textarea>
          </div>

          <div class="col-12">
            <label class="form-label fw-semibold">Additional Notes</label>
            <textarea name="notes" class="form-control input-focus" rows="2" placeholder="Enter additional notes (optional)"></textarea>
          </div>

        </div>

        <button type="submit" class="btn btn-dark w-100 mt-3 py-2">Save Prescription</button>
        <a href="{% url 'appointments_doctor' %}" class="btn btn-secondary w-100 mt-2 py-2">Back</a>
      </form>

      {% if messages %}
      <div class="mt-3">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} mt-2 text-center fw-semibold" role="alert">
            {{ message }}
          </div>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </div>
</div>

<script src="{% static 'javascript/hms.js' %}"></script>
{% endblock %}
