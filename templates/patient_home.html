{% extends 'base_patient.html' %}
{% load static %}

{% block title %}Patient Dashboard - PulseTrack{% endblock %}

{% block content %}
<div class="container my-5">
  <!-- Welcome Section -->
  <div class="text-center mb-5">
    <h2 class="fw-bold mb-3">
      ðŸ‘‹ Welcome, {{ request.user.first_name }} {{ request.user.last_name }}.
    </h2>
    <p class="lead text-muted">
      Glad to see you back at 
      <span class="fw-semibold text-danger">PulseTrack Hospital</span>.  
      You can manage your <strong>appointments</strong>, check your  
      <strong>medical history</strong>, and stay updated on your care journey.
    </p>
  </div>

  <!-- Dashboard Cards -->
  <div class="row g-4 justify-content-center">
    <!-- Pending -->
    <div class="col-md-3 col-sm-6">
      <div class="card shadow border-0 rounded-4 text-center p-4 bg-warning cursor-pointer"
           style="transition: 0.3s; background: #fff;"
           onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.2)'"
           onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 10px rgba(0,0,0,0.1)'">
        <div class="card-body">
          <div class="icon mb-3">
            <i class="bi bi-hourglass-split text-dark fs-1"></i>
          </div>
          <h5 class="fw-bold text-dark">Pending</h5>
          <p class="text-muted mb-2">Awaiting confirmation</p>
          <h4 class="fw-bold text-dark">{{ pending_count }}</h4>
        </div>
      </div>
    </div>

    <!-- Confirmed -->
    <div class="col-md-3 col-sm-6 cursor-pointer">
      <div class="card shadow border-0 rounded-4 text-center p-4 bg-success "
           style="transition: 0.3s; background: #fff;"
           onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.2)'"
           onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 10px rgba(0,0,0,0.1)'">
        <div class="card-body">
          <div class="icon mb-3">
            <i class="bi bi-check-circle-fill text-dark fs-1"></i>
          </div>
          <h5 class="fw-bold text-dark">Confirmed</h5>
          <p class="text-muted mb-2">Appointments accepted</p>
          <h4 class="fw-bold text-dark">{{ confirmed_count }}</h4>
        </div>
      </div>
    </div>

    <!-- Completed -->
    <div class="col-md-3 col-sm-6">
      <div class="card shadow border-0 rounded-4 text-center p-4 bg-primary"
           style="transition: 0.3s; background: #fff;"
           onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.2)'"
           onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 10px rgba(0,0,0,0.1)'">
        <div class="card-body">
          <div class="icon mb-3">
            <i class="bi bi-clipboard2-check-fill text-dark fs-1"></i>
          </div>
          <h5 class="fw-bold text-dark">Completed</h5>
          <p class="text-muted mb-2">Visited successfully</p>
          <h4 class="fw-bold text-dark">{{ completed_count }}</h4>
        </div>
      </div>
    </div>

    <!-- Cancelled -->
    <div class="col-md-3 col-sm-6">
      <div class="card shadow border-0 rounded-4 text-center p-4 bg-danger"
           style="transition: 0.3s; background: #fff;"
           onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.2)'"
           onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 10px rgba(0,0,0,0.1)'">
        <div class="card-body">
          <div class="icon mb-3">
            <i class="bi bi-x-circle-fill text-dark fs-1"></i>
          </div>
          <h5 class="fw-bold text-dark">Cancelled</h5>
          <p class="text-muted mb-2">Cancelled by doctor</p>
          <h4 class="fw-bold text-dark">{{ cancelled_count }}</h4>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
