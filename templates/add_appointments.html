{% extends 'base_patient.html' %}
{% load static %}

{% block title %}Add Appointment{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="card shadow border-0 rounded-3 p-4">
    <div class="row g-4 align-items-center">

      <!-- LEFT SIDE: Doctor Image + Details Table -->
      <div class="col-md-4 text-center">
        {% if doctor.image %}
          <img src="{{ doctor.image.url }}" alt="Doctor Image"
               class="img-fluid rounded-circle shadow mb-3"
               style="width: 250px; height: 250px; object-fit: cover;">
        {% else %}
          <img src="{% static 'images/default_avatar.png' %}" alt="Default Doctor"
               class="img-fluid rounded-circle shadow mb-3"
               style="width: 250px; height: 250px; object-fit: cover;">
        {% endif %}

        <div class="table-responsive mt-3">
          <table class="table table-bordered table-hover align-middle" style="border-radius: 10px; overflow: hidden;">
            <tbody>
              <tr>
                <th class="bg-dark text-white" scope="row">Name</th>
                <td>{{ doctor.first_name }} {{ doctor.last_name }}</td>
              </tr>
              
              <tr>
                
              </tr>
              <tr>
                <th class="bg-dark text-white" scope="row">Email</th>
                <td>{{ doctor.email }}</td>
              </tr>
              <tr>
                <th class="bg-dark text-white" scope="row">Phone</th>
                <td>{{ doctor.phone }}</td>
              </tr>
              <tr>
                <th class="bg-dark text-white" scope="row">Address</th>
                <td>{{ doctor.address }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- RIGHT SIDE: Appointment Form -->
      <div class="col-md-8">
        <h5 class="fw-bold mb-3 text-dark">Add Appointment</h5>
        <form method="POST" action="{% url 'add_appointments' doctor.id %}">
          {% csrf_token %}

          <!-- Symptoms / Description -->
          <div class="mb-3">
            <label for="symptoms" class="form-label fw-semibold">Describe Your Symptoms</label>
            <textarea name="symptoms" id="symptoms" 
                      class="form-control form-control-lg shadow-sm"
                      rows="5"
                      placeholder="Describe your symptoms clearly, including duration, severity, and any previous treatments..."
                      required></textarea>
          </div>

          <!-- Confirm Button -->
          <div class="text-end">
            <button type="submit" 
                    class="btn btn-dark px-4 py-2 fw-semibold"
                    style="border-radius: 5px; transition: 0.3s;"
                    onmouseover="this.style.backgroundColor='#90EE90'; this.style.color='black';"
                    onmouseout="this.style.backgroundColor='black'; this.style.color='white';">
              Confirm Appointment
            </button>
          </div>
        </form>
      </div>

    </div>
  </div>
</div>


{% endblock %}
